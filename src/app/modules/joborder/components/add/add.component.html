<h1 class="page-heading">Add Joborder</h1>
<div class="page-content">
  <form
    class="add-form"
    [formGroup]="form"
    autocomplete="off"
    spellcheck="false"
    novalidate
    (ngSubmit)="onSubmit()"
  >
    <div class="form-layout">
      <div class="form-group">
        <mat-form-field>
          <mat-label>Job Title</mat-label>
          <input
            type="text"
            formControlName="title"
            matInput
            placeholder="Senior Developer"
          />
          <mat-error
            class="form-error"
            *ngIf="
              form.get('title').invalid &&
              (form.get('title').touched || form.get('title').dirty)
            "
          >
            <ng-container *ngIf="form.get('title').errors?.['required']"
              >This field is mandatory</ng-container
            >
          </mat-error>
        </mat-form-field>
      </div>
      <div class="form-group">
        <mat-form-field>
          <mat-label>Total Experience (years)</mat-label>
          <input
            type="number"
            formControlName="experience"
            matInput
            placeholder="3"
          />
          <mat-error
            class="form-error"
            *ngIf="
              form.get('experience').invalid &&
              (form.get('experience').touched || form.get('experience').dirty)
            "
          >
            <ng-container *ngIf="form.get('experience').errors?.['required']"
              >This field is mandatory</ng-container
            >
            <ng-container *ngIf="form.get('experience').errors?.['min']"
              >Please enter a valid input</ng-container
            >
          </mat-error>
        </mat-form-field>
      </div>
      <div class="form-group">
        <mat-form-field>
          <mat-label>Salary Range</mat-label>
          <input
            type="text"
            formControlName="salary"
            matInput
            placeholder="10-14 LPA"
          />
          <mat-error
            class="form-error"
            *ngIf="
              form.get('salary').invalid &&
              (form.get('salary').touched || form.get('salary').dirty)
            "
          >
            <ng-container *ngIf="form.get('salary').errors?.['required']"
              >This field is mandatory</ng-container
            >
          </mat-error>
        </mat-form-field>
      </div>
      <div class="form-group">
        <mat-form-field>
          <mat-label>Openings</mat-label>
          <input
            type="number"
            formControlName="openings"
            matInput
            placeholder="3"
          />
          <mat-error
            class="form-error"
            *ngIf="
              form.get('openings').invalid &&
              (form.get('openings').touched || form.get('openings').dirty)
            "
          >
            <ng-container *ngIf="form.get('openings').errors?.['required']"
              >This field is mandatory</ng-container
            >
            <ng-container *ngIf="form.get('openings').errors?.['min']"
              >Please enter a valid input</ng-container
            >
          </mat-error>
        </mat-form-field>
      </div>
      <div class="form-group">
        <mat-form-field>
          <mat-label>City</mat-label>
          <input
            type="text"
            formControlName="city"
            matInput
            placeholder="Gurugram"
          />
          <mat-error
            class="form-error"
            *ngIf="
              form.get('city').invalid &&
              (form.get('city').touched || form.get('city').dirty)
            "
          >
            <ng-container *ngIf="form.get('city').errors?.['required']"
              >This field is mandatory</ng-container
            >
          </mat-error>
        </mat-form-field>
      </div>
      <div class="form-group">
        <mat-form-field>
          <mat-label>Country</mat-label>
          <input
            type="text"
            formControlName="country"
            matInput
            placeholder="India"
          />
          <mat-error
            class="form-error"
            *ngIf="
              form.get('country').invalid &&
              (form.get('country').touched || form.get('country').dirty)
            "
          >
            <ng-container *ngIf="form.get('country').errors?.['required']"
              >This field is mandatory</ng-container
            >
          </mat-error>
        </mat-form-field>
      </div>
      <div class="form-group">
        <mat-form-field>
          <mat-label>Skills</mat-label>
          <input
            type="text"
            formControlName="skills"
            matInput
            placeholder="Javascript, Typescript"
          />
          <mat-error
            class="form-error"
            *ngIf="
              form.get('skills').invalid &&
              (form.get('skills').touched || form.get('skills').dirty)
            "
          >
            <ng-container *ngIf="form.get('skills').errors?.['required']"
              >This field is mandatory</ng-container
            >
          </mat-error>
        </mat-form-field>
      </div>
      <div class="form-group">
        <mat-form-field>
          <mat-label>Assign Recruiter</mat-label>
          <input
            type="text"
            placeholder="Enter at least 3 characters"
            matInput
            formControlName="recruiterId"
            [matAutocomplete]="auto"
          />
          <mat-autocomplete #auto="matAutocomplete">
            <mat-option
              *ngFor="let option of $recruiters | async"
              [value]="option._id"
            >
              {{ option.username }}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
      </div>
    </div>
    <hr />
    <div class="btn-group mt-sm">
      <button
        [routerLink]="['../../listing', clientId]"
        class="btn btn--cancel"
        type="button"
      >
        go back
      </button>
      <button class="btn btn--add" type="submit">add joborder</button>
    </div>
  </form>
</div>
<app-loader [hidden]="!isLoading"></app-loader>
